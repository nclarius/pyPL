\documentclass[a4paper]{article}

% layout
\setlength{\parindent}{0pt}

% math formatting
\usepackage{amssymb, amsmath, amstext}

% tableau trees
\usepackage{forest}
\forestset{qtree/.style={for tree={parent anchor=south: 
           child anchor=north,align=center,inner sep=0pt}}}
\newenvironment{tableau}%
    {\begin{forest}%
    for tree={anchor=north, parent anchor=south, child anchor=north}}%
    {\end{forest}}
\newenvironment{tableaublock}
    {\begin{tabular}{llcl}}
    {\end{tabular}} 

% alignment for structures
\usepackage{array}
\newcolumntype{L}{>{$}l<{$}}

% custom commands
\newcommand{\set}[1]{\{ #1 \}}
\newcommand{\tpl}[1]{\langle #1 \rangle}

\begin{document}
You are using countermodel generation\\ 
for classical predicate logic.\\

Tableau for $\\
\nvDash (\exists x \forall y R(x,y) \vee \forall y \exists x \neg R(x,y)) :$\\

\begin{forest}
[
\begin{tableaublock}
1. &  & $\neg (\exists x \forall y R(x{,}y) \vee \forall y \exists x \neg R(x{,}y))$ & (A)\\
2. &  & $\neg \exists x \forall y R(x{,}y)$ & ($\neg \vee$ {,} 1)\\
3. &  & $\neg \forall y \exists x \neg R(x{,}y)$ & ($\neg \vee$ {,} 1)\\
4. &  & $\neg \forall y R(a{,}y)$ & ($\neg \exists$ {,} 2{,} $\lbrack x/a \rbrack$*)
\end{tableaublock}
[
\begin{tableaublock}
5. &  & $\neg R(a{,}a)$ & ($\neg \forall$ {,} 4{,} $\lbrack y/a \rbrack$)
\end{tableaublock}
[
\begin{tableaublock}
6. &  & $\neg \exists x \neg R(x{,}a)$ & ($\neg \forall$ {,} 3{,} $\lbrack y/a \rbrack$)\\
7. &  & $\neg \neg R(a{,}a)$ & ($\neg \exists$ {,} 6{,} $\lbrack x/a \rbrack$)\\
 &  & $\times$ & ($5$ {,} 7)
\end{tableaublock}
]
]
[
\begin{tableaublock}
8. &  & $\neg R(a{,}b)$ & ($\neg \forall$ {,} 4{,} $\lbrack y/b \rbrack$*)
\end{tableaublock}
[
\begin{tableaublock}
9. &  & $\neg \exists x \neg R(x{,}a)$ & ($\neg \forall$ {,} 3{,} $\lbrack y/a \rbrack$)\\
10. &  & $\neg \neg R(a{,}a)$ & ($\neg \exists$ {,} 9{,} $\lbrack x/a \rbrack$)\\
11. &  & $R(a{,}a)$ & ($\neg \neg $ {,} 10)\\
12. &  & $\neg \neg R(b{,}a)$ & ($\neg \exists$ {,} 9{,} $\lbrack x/b \rbrack$)\\
13. &  & $R(b{,}a)$ & ($\neg \neg $ {,} 12)\\
14. &  & $\neg \forall y R(b{,}y)$ & ($\neg \exists$ {,} 2{,} $\lbrack x/b \rbrack$)
\end{tableaublock}
[
\begin{tableaublock}
15. &  & $\neg R(b{,}a)$ & ($\neg \forall$ {,} 14{,} $\lbrack y/a \rbrack$)\\
 &  & $\times$ & ($13$ {,} 15)
\end{tableaublock}
]
[
\begin{tableaublock}
16. &  & $\neg R(b{,}b)$ & ($\neg \forall$ {,} 14{,} $\lbrack y/b \rbrack$)\\
 &  & $\circ$ & 
\end{tableaublock}
]
]
]
]
\end{forest}


The tableau is open:\\
The formula is refutable.\\

Countermodels:\\

Structure $\mathcal{S}_{16} = \tpl{\mathcal{D}, \mathcal{I}}$ with \\
\begin{tabular}{LLL}
\mathcal{D} = & \multicolumn{2}{L}{\set{a, b}}\\
\mathcal{I} : &R & \mapsto \set{\tpl{a, a}, \tpl{b, a}}\\
\end{tabular}\\\\
\end{document}
--------------------------------------------------------------------------------